import React, { useEffect, useState } from 'react';
import { motion } from 'framer-motion';
import { Button } from '@/components/ui/button';

interface WhyRooMeScreenProps {
  data: any;
  updateData: (updates: any) => void;
  onNext: () => void;
  onPrev: () => void;
}

export default function WhyRooMeScreen({ onNext }: WhyRooMeScreenProps) {
  const [showContent, setShowContent] = useState(false);

  useEffect(() => {
    const timer = setTimeout(() => setShowContent(true), 200);
    return () => clearTimeout(timer);
  }, []);

  const features = [
    {
      icon: 'üè°',
      title: 'Guests',
      description: 'Find your perfect stay',
      color: 'from-blue-400 to-blue-600'
    },
    {
      icon: 'üõèÔ∏è',
      title: 'Hosts',
      description: 'Share your space & earn',
      color: 'from-green-400 to-green-600'
    },
    {
      icon: 'üõ†Ô∏è',
      title: 'Services',
      description: 'Connect & provide services',
      color: 'from-purple-400 to-purple-600'
    }
  ];

  return (
    <div className=\"flex flex-col items-center text-center space-y-8 py-8\" data-testid=\"why-roome-screen\">\n      {/* Conversational text bubble */}\n      <motion.div\n        initial={{ opacity: 0, scale: 0.9, y: 20 }}\n        animate={{ \n          opacity: showContent ? 1 : 0, \n          scale: showContent ? 1 : 0.9, \n          y: showContent ? 0 : 20 \n        }}\n        transition={{ duration: 0.6, ease: \"easeOut\" }}\n        className=\"relative\"\n      >\n        <div className=\"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-gray-100 dark:border-gray-700 max-w-sm mx-auto\">\n          {/* Speech bubble pointer */}\n          <div className=\"absolute -bottom-2 left-1/2 transform -translate-x-1/2\">\n            <div className=\"w-4 h-4 bg-white dark:bg-gray-800 border-l border-b border-gray-100 dark:border-gray-700 transform rotate-45\"></div>\n          </div>\n          \n          <div className=\"space-y-3\">\n            <h1 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\n              RooMe brings everyone together\n            </h1>\n            \n            <p className=\"text-gray-600 dark:text-gray-400 leading-relaxed text-sm\">\n              Guests, Hosts, and Service Providers - all in one platform for seamless accommodation experiences.\n            </p>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Feature cards with staggered animation */}\n      <div className=\"w-full space-y-4\">\n        {features.map((feature, index) => (\n          <motion.div\n            key={feature.title}\n            initial={{ opacity: 0, x: index % 2 === 0 ? -50 : 50 }}\n            animate={{ \n              opacity: showContent ? 1 : 0, \n              x: showContent ? 0 : (index % 2 === 0 ? -50 : 50)\n            }}\n            transition={{ \n              duration: 0.6, \n              delay: 0.2 + (index * 0.1), \n              ease: \"easeOut\" \n            }}\n            className=\"transform\"\n          >\n            <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300\">\n              <div className=\"flex items-center space-x-4\">\n                <div className={`w-14 h-14 bg-gradient-to-br ${feature.color} rounded-2xl flex items-center justify-center shadow-lg`}>\n                  <span className=\"text-white text-2xl\" role=\"img\" aria-label={feature.title}>\n                    {feature.icon}\n                  </span>\n                </div>\n                \n                <div className=\"flex-1 text-left\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                    {feature.title}\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                    {feature.description}\n                  </p>\n                </div>\n                \n                <div className=\"text-blue-500\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Supporting illustration */}\n      <motion.div\n        initial={{ opacity: 0, y: 30 }}\n        animate={{ \n          opacity: showContent ? 1 : 0, \n          y: showContent ? 0 : 30 \n        }}\n        transition={{ duration: 0.6, delay: 0.5, ease: \"easeOut\" }}\n        className=\"w-full max-w-sm mx-auto\"\n      >\n        <div className=\"bg-gradient-to-br from-indigo-50 to-purple-100 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-3xl p-6 shadow-lg\">\n          <div className=\"text-center space-y-3\">\n            {/* Connection animation */}\n            <div className=\"flex justify-center items-center space-x-1\">\n              <motion.div \n                animate={{ scale: [1, 1.1, 1] }}\n                transition={{ duration: 2, repeat: Infinity, delay: 0 }}\n                className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center\"\n              >\n                <span className=\"text-white text-sm\">üè°</span>\n              </motion.div>\n              \n              <motion.div\n                animate={{ opacity: [0.3, 1, 0.3] }}\n                transition={{ duration: 2, repeat: Infinity }}\n                className=\"flex-1 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-green-500\"\n              />\n              \n              <motion.div \n                animate={{ scale: [1, 1.1, 1] }}\n                transition={{ duration: 2, repeat: Infinity, delay: 0.7 }}\n                className=\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\"\n              >\n                <span className=\"text-white text-sm\">üõ†Ô∏è</span>\n              </motion.div>\n              \n              <motion.div\n                animate={{ opacity: [0.3, 1, 0.3] }}\n                transition={{ duration: 2, repeat: Infinity, delay: 1 }}\n                className=\"flex-1 h-0.5 bg-gradient-to-r from-green-500 via-purple-500 to-blue-500\"\n              />\n              \n              <motion.div \n                animate={{ scale: [1, 1.1, 1] }}\n                transition={{ duration: 2, repeat: Infinity, delay: 1.4 }}\n                className=\"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center\"\n              >\n                <span className=\"text-white text-sm\">üë•</span>\n              </motion.div>\n            </div>\n            \n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n              <p className=\"font-medium\">Seamless Connections</p>\n              <p>One platform, endless possibilities</p>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* CTA Button */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ \n          opacity: showContent ? 1 : 0, \n          y: showContent ? 0 : 20 \n        }}\n        transition={{ duration: 0.6, delay: 0.7, ease: \"easeOut\" }}\n        className=\"w-full\"\n      >\n        <Button\n          onClick={onNext}\n          className=\"w-full h-14 text-lg font-semibold bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-2xl\"\n          data-testid=\"button-next\"\n        >\n          Next\n        </Button>\n      </motion.div>\n\n      {/* Floating decorative elements */}\n      <motion.div\n        animate={{ \n          rotate: [0, 360],\n          scale: [1, 1.1, 1]\n        }}\n        transition={{ \n          duration: 8, \n          repeat: Infinity, \n          ease: \"linear\"\n        }}\n        className=\"absolute top-16 right-4 opacity-10\"\n      >\n        <span className=\"text-4xl\" role=\"img\" aria-label=\"connection\">üîó</span>\n      </motion.div>\n\n      <motion.div\n        animate={{ \n          y: [0, -10, 0],\n          opacity: [0.1, 0.3, 0.1]\n        }}\n        transition={{ \n          duration: 3, \n          repeat: Infinity, \n          ease: \"easeInOut\",\n          delay: 2\n        }}\n        className=\"absolute bottom-20 left-4\"\n      >\n        <span className=\"text-3xl\" role=\"img\" aria-label=\"heart\">‚ù§Ô∏è</span>\n      </motion.div>\n    </div>\n  );\n}